<!DOCTYPE html>
<html lang="en">

<head>
    <title>Federated Authentication Examples</title>

    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Code examples of integration with different federated authentication providers.">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <style>
        pre {
            white-space: pre-wrap;
            white-space: -moz-pre-wrap;
            white-space: -pre-wrap;
            white-space: -o-pre-wrap;
            word-wrap: break-word;
            padding-top: 0;
            padding-left: 0;
            padding-right: 0;
            padding-bottom: 1rem;
            background-color: #fff;
        }

        .container {
            margin-top: 20px;
        }

        .box {
            background: rgb(255, 255, 255);
            border-radius: 0;
        }

        .columns {
            display: flex;
            justify-content: space-around;
        }

        .column {
            display: flex;
            flex-direction: column;
        }

        .menu a {
            text-decoration: underline;
        }
    </style>
</head>

<body>
    <div class="container box">
        <div class="columns is-mobile">
            <div class="column" style="background-color: #f5f5f5;">
                <aside class="menu">
                    <p class="menu-label">General</p>
                    <ul class="menu-list">
                        <li><a href="/">Home</a></li>
                        <li><a href="https://github.com/shibbir/oidc-examples">GitHub Repo</a></li>
                    </ul>
                    <p class="menu-label">Identity Providers</p>
                    <ul class="menu-list">
                        <li><a href="/auth/azure-ad">Azure AD</a></li>
                        <li><a href="/auth/discord">Discord</a></li>
                        <li><a href="/auth/facebook">Facebook</a></li>
                        <li><a href="/auth/github">GitHub</a></li>
                        <li><a href="/auth/google">Google</a></li>
                        <li><a href="/auth/okta">OKTA</a></li>
                        <li><a href="/auth/pingid">Ping Identity</a></li>
                    </ul>
                </aside>
            </div>
            <div class="column is-four-fifths" id="template">
                {{#each data}}
                <pre><b>{{@key}}</b>: {{this}}</pre>
                {{/each}}
            </div>
        </div>
        <article class="message is-info">
            <div class="message-body">
                Use the demo user with username <strong>&lt;john.doe@example.com&gt;</strong> and password
                <strong>&lt;LdneB4#Tqg&gt;</strong> when trying out OKTA and Ping Identity examples.

                <p>The <a href="https://opensource.org/licenses/MIT">MIT</a> License. Copyright Â© 2023 Shibbir Ahmed.</p>
            </div>
        </article>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.min.js"></script>

    <script>
        const data = {};
        const queryParams = new URLSearchParams(window.location.search);
        for (const key of queryParams.keys()) {
            data[key] = queryParams.get(key);
        }

        let src = document.getElementById("template").innerHTML;
        if (Object.keys(data).length === 0) {
            src = "<div class='is-size-4'>Code examples of integration with different federated authentication providers. Please click on the identity providers to see the returned data.</div>";
        }

        const template = Handlebars.compile(src);
        document.getElementById("template").innerHTML = template({ data });
    </script>
</body>

</html>
